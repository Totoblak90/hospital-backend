(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{E5tf:function(t,e,s){"use strict";s.r(e),s.d(e,"ChildRoutesModule",function(){return Vt});var i=s("tyNb"),r=s("fXoL");let o=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Fb({type:t,selectors:[["app-dashboard"]],decls:2,vars:0,template:function(t,e){1&t&&(r.Qb(0,"p"),r.oc(1,"dashboard works!"),r.Pb())},styles:[""]}),t})();var n=s("LPYB");let a=(()=>{class t{constructor(){this.doughnutChartLabels=["Download Sales","In-Store Sales","Mail-Order Sales"],this.doughnutChartData=[[350,450,100]],this.doughnutChartType="doughnut",this.colors=[{backgroundColor:["#6857E6","#009FEE","#FF8414"]}]}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Fb({type:t,selectors:[["app-dognought-chart"]],inputs:{title:"title",doughnutChartLabels:"doughnutChartLabels",doughnutChartData:"doughnutChartData",doughnutChartType:"doughnutChartType",colors:"colors"},decls:4,vars:5,consts:[[2,"display","block"],["baseChart","",3,"data","labels","chartType","colors"]],template:function(t,e){1&t&&(r.Qb(0,"h3"),r.oc(1),r.Pb(),r.Qb(2,"div",0),r.Mb(3,"canvas",1),r.Pb()),2&t&&(r.Ab(1),r.pc(e.title),r.Ab(2),r.dc("data",e.doughnutChartData)("labels",e.doughnutChartLabels)("chartType",e.doughnutChartType)("colors",e.colors))},directives:[n.a],styles:[""]}),t})();const c=function(){return[99,274,71]},l=function(t){return[t]},b=function(){return["Confirmed","Processing","Denied"]},h=function(){return["#00FF00","#333300","#00CCCC"]},u=function(t){return{backgroundColor:t}},d=function(){return[75,33,220]},p=function(){return["New","Lost","Mantained"]},g=function(){return[20,50,99]},m=function(){return["Recruited","Lost","Mantained"]};let f=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Fb({type:t,selectors:[["app-graphic1"]],decls:18,vars:36,consts:[[1,"row"],[1,"col-6"],[1,"card"],[1,"card-body"],[3,"title"],[3,"title","doughnutChartData","doughnutChartLabels"],[3,"title","colors","doughnutChartData","doughnutChartLabels","doughnutChartType"]],template:function(t,e){1&t&&(r.Qb(0,"div",0),r.Qb(1,"div",1),r.Qb(2,"div",2),r.Qb(3,"div",3),r.Mb(4,"app-dognought-chart",4),r.Pb(),r.Pb(),r.Pb(),r.Qb(5,"div",1),r.Qb(6,"div",2),r.Qb(7,"div",3),r.Mb(8,"app-dognought-chart",5),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(9,"div",0),r.Qb(10,"div",1),r.Qb(11,"div",2),r.Qb(12,"div",3),r.Mb(13,"app-dognought-chart",6),r.Pb(),r.Pb(),r.Pb(),r.Qb(14,"div",1),r.Qb(15,"div",2),r.Qb(16,"div",3),r.Mb(17,"app-dognought-chart",6),r.Pb(),r.Pb(),r.Pb(),r.Pb()),2&t&&(r.Ab(4),r.dc("title","Sales methods"),r.Ab(4),r.dc("title","Sales")("doughnutChartData",r.fc(15,l,r.ec(14,c)))("doughnutChartLabels",r.ec(17,b)),r.Ab(5),r.dc("title","Clients")("colors",r.fc(21,l,r.fc(19,u,r.ec(18,h))))("doughnutChartData",r.fc(24,l,r.ec(23,d)))("doughnutChartLabels",r.ec(26,p))("doughnutChartType","pie"),r.Ab(4),r.dc("title","Vendors")("colors",r.fc(30,l,r.fc(28,u,r.ec(27,h))))("doughnutChartData",r.fc(33,l,r.ec(32,g)))("doughnutChartLabels",r.ec(35,m))("doughnutChartType","pie"))},directives:[a],styles:[""]}),t})();var v=s("ofXK"),P=s("3Pt+");const Q=function(t){return{"is-invalid":t}};let w=(()=>{class t{constructor(){this.changedValue=new r.n,this.btnClass="btn btn-primary"}setPorcentaje(t){const e=+t;this.porcentaje>=100&&e>=0?this.porcentaje=100:this.porcentaje<=0&&e<0?this.porcentaje=0:(this.porcentaje=this.porcentaje+e,this.changedValue.emit(this.porcentaje))}inputValueChange(t){this.porcentaje=t>=100?100:t<=0?0:+t,this.changedValue.emit(this.porcentaje)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Fb({type:t,selectors:[["app-increaser"]],inputs:{porcentaje:"porcentaje",btnClass:"btnClass"},outputs:{changedValue:"changedValue"},decls:8,vars:6,consts:[[1,"input-group"],[1,"input-group-btn"],["type","button",3,"ngClass","click"],[1,"fa","fa-minus"],["type","number","placeholder","Porcentaje",1,"form-control",3,"ngClass","ngModel","ngModelChange"],[1,"fa","fa-plus"]],template:function(t,e){1&t&&(r.Qb(0,"div",0),r.Qb(1,"span",1),r.Qb(2,"button",2),r.Xb("click",function(){return e.setPorcentaje(-5)}),r.Mb(3,"i",3),r.Pb(),r.Pb(),r.Qb(4,"input",4),r.Xb("ngModelChange",function(t){return e.inputValueChange(t)})("ngModelChange",function(t){return e.porcentaje=t}),r.Pb(),r.Qb(5,"span",1),r.Qb(6,"button",2),r.Xb("click",function(){return e.setPorcentaje(5)}),r.Mb(7,"i",5),r.Pb(),r.Pb(),r.Pb()),2&t&&(r.Ab(2),r.dc("ngClass",e.btnClass),r.Ab(2),r.dc("ngClass",r.fc(4,Q,e.porcentaje>100||e.porcentaje<0))("ngModel",e.porcentaje),r.Ab(2),r.dc("ngClass",e.btnClass))},directives:[v.h,P.l,P.b,P.g,P.j],styles:[""]}),t})(),y=(()=>{class t{constructor(){this.porcentaje1=50,this.porcentaje2=25}get getPorcentaje1(){return`${this.porcentaje1}%`}get getPorcentaje2(){return`${this.porcentaje2}%`}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Fb({type:t,selectors:[["app-progress-bar"]],decls:19,vars:7,consts:[[1,"row"],[1,"col-12"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"progress","m-t-20"],["role","progressbar",1,"progress-bar","bg-primary","progress-bar-striped","active",2,"height","10px"],["role","progressbar",1,"progress-bar","bg-warning","progress-bar-striped","active",2,"height","10px"],[1,"col-6"],[3,"porcentaje","changedValue"],[3,"porcentaje","btnClass","changedValue"]],template:function(t,e){1&t&&(r.Qb(0,"div",0),r.Qb(1,"div",1),r.Qb(2,"div",2),r.Qb(3,"div",3),r.Qb(4,"h4",4),r.oc(5,"Striped Progress bar"),r.Pb(),r.Qb(6,"div",5),r.Mb(7,"div",6),r.Pb(),r.Qb(8,"div",5),r.Mb(9,"div",7),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(10,"div",0),r.Qb(11,"div",8),r.Qb(12,"div",2),r.Qb(13,"div",3),r.Qb(14,"app-increaser",9),r.Xb("changedValue",function(t){return e.porcentaje1=t}),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(15,"div",8),r.Qb(16,"div",2),r.Qb(17,"div",3),r.Qb(18,"app-increaser",10),r.Xb("changedValue",function(t){return e.porcentaje2=t}),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb()),2&t&&(r.Ab(7),r.lc("width",e.getPorcentaje1),r.Ab(2),r.lc("width",e.getPorcentaje2),r.Ab(5),r.dc("porcentaje",e.porcentaje1),r.Ab(4),r.dc("porcentaje",e.porcentaje2)("btnClass","btn btn-warning"))},directives:[w],styles:[".progress-bar.active[_ngcontent-%COMP%], .progress.active[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{animation:progress-bar-stripes 2s linear infinite}.progress-vertical[_ngcontent-%COMP%], .progress-vertical-bottom[_ngcontent-%COMP%]{min-height:250px;height:250px;position:relative;display:inline-block;margin-bottom:0;margin-right:20px}.progress-vertical-bottom[_ngcontent-%COMP%]{transform:rotate(180deg)}.progress-animated[_ngcontent-%COMP%]{-webkit-animation-duration:5s;-webkit-animation-name:myanimation;-webkit-transition:all 5s;animation-duration:5s;animation-name:myanimation;transition:all 5s}@keyframes myanimation{0%{width:0}}"]}),t})();var I=s("6nr9");let k=(()=>{class t{constructor(t){this.settingsSrv=t}ngOnInit(){this.settingsSrv.setSelectedTheme()}changeTheme(t){this.settingsSrv.changeTheme(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(I.a))},t.\u0275cmp=r.Fb({type:t,selectors:[["app-account-settings"]],decls:50,vars:0,consts:[[1,"row"],[1,"col"],[1,"card"],[1,"card-body"],[1,"r-panel-body"],["id","themecolors",1,"m-t-20"],["data-theme","default",1,"selector","default-theme",3,"click"],["data-theme","green",1,"selector","green-theme",3,"click"],["data-theme","red",1,"selector","red-theme",3,"click"],["data-theme","blue",1,"selector","blue-theme",3,"click"],["data-theme","purple",1,"selector","purple-theme",3,"click"],["data-theme","megna",1,"selector","megna-theme",3,"click"],[1,"d-block","m-t-30"],["data-theme","default-dark",1,"selector","default-dark-theme",3,"click"],["data-theme","green-dark",1,"selector","green-dark-theme",3,"click"],["data-theme","red-dark",1,"selector","red-dark-theme",3,"click"],["data-theme","blue-dark",1,"selector","blue-dark-theme","working",3,"click"],["data-theme","purple-dark",1,"selector","purple-dark-theme",3,"click"],["data-theme","megna-dark",1,"selector","megna-dark-theme",3,"click"]],template:function(t,e){1&t&&(r.Qb(0,"div",0),r.Qb(1,"div",1),r.Qb(2,"div",2),r.Qb(3,"div",3),r.Qb(4,"div",4),r.Qb(5,"h3"),r.oc(6,"Seleccion\xe1 tu tema favorito"),r.Pb(),r.Qb(7,"ul",5),r.Qb(8,"li"),r.Qb(9,"b"),r.oc(10,"Con el sidebar claro"),r.Pb(),r.Pb(),r.Qb(11,"li"),r.Qb(12,"a",6),r.Xb("click",function(){return e.changeTheme("default")}),r.oc(13,"1"),r.Pb(),r.Pb(),r.Qb(14,"li"),r.Qb(15,"a",7),r.Xb("click",function(){return e.changeTheme("green")}),r.oc(16,"2"),r.Pb(),r.Pb(),r.Qb(17,"li"),r.Qb(18,"a",8),r.Xb("click",function(){return e.changeTheme("red")}),r.oc(19,"3"),r.Pb(),r.Pb(),r.Qb(20,"li"),r.Qb(21,"a",9),r.Xb("click",function(){return e.changeTheme("blue")}),r.oc(22,"4"),r.Pb(),r.Pb(),r.Qb(23,"li"),r.Qb(24,"a",10),r.Xb("click",function(){return e.changeTheme("purple")}),r.oc(25,"5"),r.Pb(),r.Pb(),r.Qb(26,"li"),r.Qb(27,"a",11),r.Xb("click",function(){return e.changeTheme("megna")}),r.oc(28,"6"),r.Pb(),r.Pb(),r.Qb(29,"li",12),r.Qb(30,"b"),r.oc(31,"Con el sidebar oscuro"),r.Pb(),r.Pb(),r.Qb(32,"li"),r.Qb(33,"a",13),r.Xb("click",function(){return e.changeTheme("default-dark")}),r.oc(34,"7"),r.Pb(),r.Pb(),r.Qb(35,"li"),r.Qb(36,"a",14),r.Xb("click",function(){return e.changeTheme("green-dark")}),r.oc(37,"8"),r.Pb(),r.Pb(),r.Qb(38,"li"),r.Qb(39,"a",15),r.Xb("click",function(){return e.changeTheme("red-dark")}),r.oc(40,"9"),r.Pb(),r.Pb(),r.Qb(41,"li"),r.Qb(42,"a",16),r.Xb("click",function(){return e.changeTheme("blue-dark")}),r.oc(43,"10"),r.Pb(),r.Pb(),r.Qb(44,"li"),r.Qb(45,"a",17),r.Xb("click",function(){return e.changeTheme("purple-dark")}),r.oc(46,"11"),r.Pb(),r.Pb(),r.Qb(47,"li"),r.Qb(48,"a",18),r.Xb("click",function(){return e.changeTheme("megna-dark")}),r.oc(49,"12"),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb())},styles:["#themecolors[_ngcontent-%COMP%]   .selector[_ngcontent-%COMP%]{cursor:pointer}"]}),t})(),x=(()=>{class t{constructor(){this.text="I am a promise (wait)"}ngOnInit(){this.test=!0,setTimeout(()=>{this.initPromise().then(()=>{this.text="I am a promise that resolved",this.test=!1,setTimeout(()=>{this.initPromise().catch(t=>{this.text="I have executed again and failed"})},1500)})},1500)}initPromise(){return new Promise((t,e)=>{this.test?t(""):e("")})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Fb({type:t,selectors:[["app-promises"]],decls:2,vars:1,template:function(t,e){1&t&&(r.Qb(0,"h1"),r.oc(1),r.Pb()),2&t&&(r.Ab(1),r.qc(" ",e.text," "))},styles:[""]}),t})();var A=s("HDdC"),C=s("quSY");class S extends C.a{constructor(t,e){super()}schedule(t,e=0){return this}}class O extends S{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const s=this.id,i=this.scheduler;return null!=s&&(this.id=this.recycleAsyncId(i,s,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(i,this.id,e),this}requestAsyncId(t,e,s=0){return setInterval(t.flush.bind(t,this),s)}recycleAsyncId(t,e,s=0){if(null!==s&&this.delay===s&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const s=this._execute(t,e);if(s)return s;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let s,i=!1;try{this.work(t)}catch(r){i=!0,s=!!r&&r||new Error(r)}if(i)return this.unsubscribe(),s}_unsubscribe(){const t=this.id,e=this.scheduler,s=e.actions,i=s.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&s.splice(i,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}let j=(()=>{class t{constructor(e,s=t.now){this.SchedulerAction=e,this.now=s}schedule(t,e=0,s){return new this.SchedulerAction(this,t).schedule(s,e)}}return t.now=()=>Date.now(),t})();class M extends j{constructor(t,e=j.now){super(t,()=>M.delegate&&M.delegate!==this?M.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,s){return M.delegate&&M.delegate!==this?M.delegate.schedule(t,e,s):super.schedule(t,e,s)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let s;this.active=!0;do{if(s=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,s){for(;t=e.shift();)t.unsubscribe();throw s}}}const U=new M(O);var D=s("DH7j");function R(t=0,e=U){var s;return s=t,(Object(D.a)(s)||!(s-parseFloat(s)+1>=0)||t<0)&&(t=0),e&&"function"==typeof e.schedule||(e=U),new A.a(s=>(s.add(e.schedule(T,t,{subscriber:s,counter:0,period:t})),s))}function T(t){const{subscriber:e,counter:s,period:i}=t;e.next(s),this.schedule({subscriber:e,counter:s+1,period:i},i)}var $=s("7o/Q");class X{constructor(t,e){this.count=t,this.source=e}call(t,e){return e.subscribe(new E(t,this.count,this.source))}}class E extends $.a{constructor(t,e,s){super(t),this.count=e,this.source=s}error(t){if(!this.isStopped){const{source:e,count:s}=this;if(0===s)return super.error(t);s>-1&&(this.count=s-1),e.subscribe(this._unsubscribeAndRecycle())}}}var F=s("IzEk"),H=s("lJxs"),L=s("pLZG");let N=(()=>{class t{constructor(){this.text1="I am an observable that watches the counter 1",this.counter1=0,this.text2="I am an observable that watches the counter 2",this.counter2=0,this.text3="I am an observable that watches the counter 3",this.counter3=0,this.text4="I am interval observable from rxjs that watches counter 4. I am using map and take rxjs operators.",this.text5="I am interval observable from rxjs that watches counter 5. I am using filter rxjs operators. i will go from two on two.",this.text6="I am interval observable from rxjs that watches counter 6. I will stop emmiting values when the component destroys."}ngOnInit(){this.initObservables()}initObservables(){this.initObservable1().subscribe(t=>{this.counter1=t},t=>this.text1=t,()=>this.text1="I have completed without failure"),this.initObservable2().subscribe(t=>this.counter2=t,t=>this.text2=t,()=>this.text2="I will never complete"),this.initObservable3().pipe(function(t=-1){return e=>e.lift(new X(t,e))}(1)).subscribe(t=>this.counter3=t,t=>this.text3=t,()=>this.text3="I retried so I could complete"),this.initIntervalRXJS().subscribe(t=>this.counter4=t,t=>console.log(t),()=>this.text4="I have completed without failure"),this.initIntervalRXJS2().subscribe(t=>this.counter5=t,t=>console.log(t),()=>this.text5="I have completed without failure"),this.intervalWithoutTake=this.initIntervalRXJS3().subscribe(t=>this.counter6=t)}initObservable1(){let t=0;return new A.a(e=>{const s=setInterval(()=>{t++,e.next(t),t>=5&&(e.complete(),clearInterval(s))},1e3)})}initObservable2(){let t=0;return new A.a(e=>{const s=setInterval(()=>{t++,e.next(t),t>=5&&(e.complete(),clearInterval(s)),3===t&&e.error("I failed")},1e3)})}initObservable3(){let t=0;return new A.a(e=>{const s=setInterval(()=>{t++,e.next(t),t>=6&&(e.complete(),clearInterval(s)),3===t&&e.error("I failed")},1e3)})}initIntervalRXJS(){return R(1e3).pipe(Object(F.a)(5),Object(H.a)(t=>t+1))}initIntervalRXJS2(){return R(500).pipe(Object(F.a)(10),Object(H.a)(t=>t+1),Object(L.a)(t=>t%2==0))}initIntervalRXJS3(){return R(500).pipe(Object(H.a)(t=>t+1),Object(L.a)(t=>t%2==0))}ngOnDestroy(){this.intervalWithoutTake.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Fb({type:t,selectors:[["app-observables"]],decls:26,vars:12,template:function(t,e){1&t&&(r.Qb(0,"h1"),r.oc(1,"Observables and RXJS"),r.Pb(),r.Qb(2,"h2"),r.oc(3),r.Pb(),r.Qb(4,"p"),r.oc(5),r.Pb(),r.Qb(6,"h2"),r.oc(7),r.Pb(),r.Qb(8,"p"),r.oc(9),r.Pb(),r.Qb(10,"h2"),r.oc(11),r.Pb(),r.Qb(12,"p"),r.oc(13),r.Pb(),r.Qb(14,"h2"),r.oc(15),r.Pb(),r.Qb(16,"p"),r.oc(17),r.Pb(),r.Qb(18,"h2"),r.oc(19),r.Pb(),r.Qb(20,"p"),r.oc(21),r.Pb(),r.Qb(22,"h2"),r.oc(23),r.Pb(),r.Qb(24,"p"),r.oc(25),r.Pb()),2&t&&(r.Ab(3),r.qc(" ",e.text1," "),r.Ab(2),r.qc(" Counter 1: ",e.counter1," "),r.Ab(2),r.qc(" ",e.text2," "),r.Ab(2),r.qc(" Counter 2: ",e.counter2," "),r.Ab(2),r.qc(" ",e.text3," "),r.Ab(2),r.qc(" Counter 3: ",e.counter3," "),r.Ab(2),r.qc(" ",e.text4," "),r.Ab(2),r.qc(" Counter 4: ",e.counter4," "),r.Ab(2),r.qc(" ",e.text5," "),r.Ab(2),r.qc(" Counter 5: ",e.counter5," "),r.Ab(2),r.qc(" ",e.text6," "),r.Ab(2),r.qc(" Counter 6: ",e.counter6," "))},styles:[""]}),t})();var _=s("PSD3"),Z=s.n(_),q=s("6Qg2"),B=s("FO31");function V(t,e){if(1&t){const t=r.Rb();r.Qb(0,"img",23),r.Xb("click",function(){return r.ic(t),r.Zb(),r.hc(38).click()}),r.Pb()}if(2&t){const t=r.Zb();r.dc("src",t.user.imageUrl,r.jc)}}function Y(t,e){if(1&t){const t=r.Rb();r.Qb(0,"img",23),r.Xb("click",function(){return r.ic(t),r.Zb(),r.hc(38).click()}),r.Pb()}if(2&t){const t=r.Zb();r.dc("src",t.imgTemp,r.jc)}}let J=(()=>{class t{constructor(t,e,s){this.fb=t,this.httpSrv=e,this.fileUploadSrv=s,this.emailPattern="^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$",this.user=e.usuario}ngOnInit(){this.profileForm=this.fb.group({nombre:[this.user.nombre,P.o.required],email:[this.user.email,[P.o.required,P.o.pattern(this.emailPattern)]]})}editProfile(){const{nombre:t,email:e}=this.profileForm.value;!this.profileForm.valid||t===this.user.nombre&&e===this.user.email||this.updateUserInfo(t,e)}updateUserInfo(t,e){this.httpSrv.updateUser(this.profileForm.value).subscribe(s=>{this.user.nombre=t,this.user.email=e,Z.a.fire("Great!","Changes were succesfully made.","success")},t=>{Z.a.fire("Error",t.error.msg,"error")})}saveImage(t){if(this.imageToUpload=t,!t)return this.imgTemp=null;const e=new FileReader;e.readAsDataURL(t),e.onloadend=()=>{this.imgTemp=e.result}}updateUserImage(){this.fileUploadSrv.updateFile(this.imageToUpload,"usuarios",this.user.uid).then(t=>{this.user.img=t,Z.a.fire("Great!","Image was succesfully uploaded","success")}).catch(t=>Z.a.fire("Error",t.error.msg,"error"))}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(P.c),r.Lb(q.a),r.Lb(B.a))},t.\u0275cmp=r.Fb({type:t,selectors:[["app-profile"]],decls:44,vars:6,consts:[[1,"row"],[1,"col-md-6"],[1,"card"],[1,"card-body"],[1,"text-center"],[1,"card-title"],[1,"card-subtitle"],[1,"form","p-t-20",3,"formGroup","ngSubmit"],[1,"form-group"],["for","exampleInputuname"],[1,"input-group"],[1,"input-group-addon"],[1,"ti-user"],["type","text","id","exampleInputuname","placeholder","Username","formControlName","nombre",1,"form-control"],["for","exampleInputEmail1"],[1,"ti-email"],["type","email","id","exampleInputEmail1","placeholder","Enter email","formControlName","email",1,"form-control"],["type","submit",1,"btn","btn-success","waves-effect","btn-block","waves-light","m-r-10",3,"disabled"],[1,"fa","fa-save"],["alt","","class","avatar pointer",3,"src","click",4,"ngIf"],["type","file",3,"hidden","change"],["avatarInput",""],["type","button",1,"btn","btn-success","waves-effect","waves-light","m-r-10",3,"disabled","click"],["alt","",1,"avatar","pointer",3,"src","click"]],template:function(t,e){1&t&&(r.Qb(0,"div",0),r.Qb(1,"div",1),r.Qb(2,"div",2),r.Qb(3,"div",3),r.Qb(4,"div",4),r.Qb(5,"h4",5),r.oc(6,"User info"),r.Pb(),r.Qb(7,"h6",6),r.oc(8,"Check or edit your info"),r.Pb(),r.Pb(),r.Qb(9,"form",7),r.Xb("ngSubmit",function(){return e.editProfile()}),r.Qb(10,"div",8),r.Qb(11,"label",9),r.oc(12,"User Name"),r.Pb(),r.Qb(13,"div",10),r.Qb(14,"div",11),r.Mb(15,"i",12),r.Pb(),r.Mb(16,"input",13),r.Pb(),r.Pb(),r.Qb(17,"div",8),r.Qb(18,"label",14),r.oc(19,"Email address"),r.Pb(),r.Qb(20,"div",10),r.Qb(21,"div",11),r.Mb(22,"i",15),r.Pb(),r.Mb(23,"input",16),r.Pb(),r.Pb(),r.Qb(24,"button",17),r.Mb(25,"i",18),r.oc(26," Save changes "),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(27,"div",1),r.Qb(28,"div",2),r.Qb(29,"div",3),r.Qb(30,"div",4),r.Qb(31,"h4",5),r.oc(32,"Avatar"),r.Pb(),r.Qb(33,"h6",6),r.oc(34,"User image"),r.Pb(),r.mc(35,V,1,1,"img",19),r.mc(36,Y,1,1,"img",19),r.Qb(37,"input",20,21),r.Xb("change",function(t){return e.saveImage(t.target.files[0])}),r.Pb(),r.Mb(39,"br"),r.Mb(40,"br"),r.Qb(41,"button",22),r.Xb("click",function(){return e.updateUserImage()}),r.Mb(42,"i",18),r.oc(43," Save image "),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb()),2&t&&(r.Ab(9),r.dc("formGroup",e.profileForm),r.Ab(15),r.dc("disabled",e.profileForm.invalid),r.Ab(11),r.dc("ngIf",!e.imgTemp),r.Ab(1),r.dc("ngIf",e.imgTemp),r.Ab(1),r.dc("hidden",!0),r.Ab(4),r.dc("disabled",!e.imageToUpload))},directives:[P.p,P.h,P.e,P.b,P.g,P.d,v.j],styles:[".avatar[_ngcontent-%COMP%]{margin:10px auto;width:200px;height:200px;border-radius:10px}"]}),t})();var G=s("EY2u"),z=s("LRne");let W=(()=>{class t{constructor(t,e,s){this.kind=t,this.value=e,this.error=s,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,s){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return s&&s()}}accept(t,e,s){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,s)}toObservable(){switch(this.kind){case"N":return Object(z.a)(this.value);case"E":return t=this.error,new A.a(e=>e.error(t));case"C":return Object(G.b)()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function K(t,e=U){var s;const i=(s=t)instanceof Date&&!isNaN(+s)?+t-e.now():Math.abs(t);return t=>t.lift(new tt(i,e))}class tt{constructor(t,e){this.delay=t,this.scheduler=e}call(t,e){return e.subscribe(new et(t,this.delay,this.scheduler))}}class et extends $.a{constructor(t,e,s){super(t),this.delay=e,this.scheduler=s,this.queue=[],this.active=!1,this.errored=!1}static dispatch(t){const e=t.source,s=e.queue,i=t.scheduler,r=t.destination;for(;s.length>0&&s[0].time-i.now()<=0;)s.shift().notification.observe(r);if(s.length>0){const e=Math.max(0,s[0].time-i.now());this.schedule(t,e)}else this.unsubscribe(),e.active=!1}_schedule(t){this.active=!0,this.destination.add(t.schedule(et.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))}scheduleNotification(t){if(!0===this.errored)return;const e=this.scheduler,s=new st(e.now()+this.delay,t);this.queue.push(s),!1===this.active&&this._schedule(e)}_next(t){this.scheduleNotification(W.createNext(t))}_error(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()}_complete(){this.scheduleNotification(W.createComplete()),this.unsubscribe()}}class st{constructor(t,e){this.time=t,this.notification=e}}var it=s("nYR2"),rt=s("XNiG"),ot=s("uojE"),nt=s("AytR"),at=s("Tj/N"),ct=s("tk/3");let lt=(()=>{class t{constructor(t){this.http=t,this.baseUrl=nt.a.apiBaseUrl}get token(){return localStorage.getItem("token")}get headers(){return{headers:{"x-token":this.token||""}}}search(t,e=""){return this.http.get(`${this.baseUrl}/todo/coleccion/${t}/${e}`,this.headers).pipe(Object(H.a)(e=>{let s;switch(t){case"usuarios":return s=this.transformUsuarios(e.resultados),{ok:e.ok,resultados:s};case"medicos":case"hospitales":return{ok:e.ok,resultados:e.resultados};default:return}}))}transformUsuarios(t){return t.map(t=>new at.a(t.nombre,t.email,"",t.img,t.google,t.role,t.uid))}searchAll(t){return this.http.get(`${this.baseUrl}/todo/${t}`,this.headers)}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(ct.a))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function bt(t,e){1&t&&(r.Qb(0,"div",0),r.Qb(1,"div",1),r.Qb(2,"div",2),r.Qb(3,"div",3),r.Qb(4,"div",7),r.Qb(5,"h4",8),r.oc(6,"Loading"),r.Pb(),r.Mb(7,"i",9),r.Qb(8,"p",10),r.oc(9,"Please wait"),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb())}function ht(t,e){if(1&t&&(r.Ob(0),r.Qb(1,"h6",21),r.oc(2),r.Pb(),r.Nb()),2&t){const t=r.Zb(2);r.Ab(2),r.qc(" ",t.totalUsers," registered users on my app. ")}}function ut(t,e){if(1&t&&(r.Qb(0,"h6",21),r.oc(1),r.Pb()),2&t){const t=r.Zb(2);r.Ab(1),r.qc(" ",t.searchingResults," users found. ")}}function dt(t,e){1&t&&(r.Qb(0,"label",32),r.oc(1,"Email"),r.Pb())}function pt(t,e){1&t&&(r.Qb(0,"label",33),r.oc(1,"Google"),r.Pb())}function gt(t,e){if(1&t){const t=r.Rb();r.Qb(0,"tr"),r.Qb(1,"td",22),r.Qb(2,"img",23),r.Xb("click",function(){r.ic(t);const s=e.$implicit;return r.Zb(2).openModal(s)}),r.Pb(),r.Pb(),r.Qb(3,"td"),r.oc(4),r.Pb(),r.Qb(5,"td"),r.oc(6),r.Pb(),r.Qb(7,"td"),r.Qb(8,"select",24),r.Xb("change",function(){r.ic(t);const s=e.$implicit;return r.Zb(2).changeRole(s)})("ngModelChange",function(t){return e.$implicit.role=t}),r.Qb(9,"option",25),r.oc(10,"Admin"),r.Pb(),r.Qb(11,"option",26),r.oc(12,"User"),r.Pb(),r.Pb(),r.Pb(),r.Qb(13,"td",22),r.mc(14,dt,2,0,"label",27),r.mc(15,pt,2,0,"label",28),r.Pb(),r.Qb(16,"td",29),r.Qb(17,"a",30),r.Xb("click",function(){r.ic(t);const s=e.$implicit;return r.Zb(2).deleteUser(s)}),r.Mb(18,"i",31),r.Pb(),r.Pb(),r.Pb()}if(2&t){const t=e.$implicit;r.Ab(2),r.dc("src",t.imageUrl,r.jc),r.Ab(2),r.pc(t.nombre),r.Ab(2),r.pc(t.email),r.Ab(2),r.dc("ngModel",t.role),r.Ab(6),r.dc("ngIf",!t.google),r.Ab(1),r.dc("ngIf",t.google)}}function mt(t,e){if(1&t){const t=r.Rb();r.Qb(0,"div",0),r.Qb(1,"div",1),r.Qb(2,"div",2),r.Qb(3,"div",3),r.Qb(4,"h4",11),r.oc(5,"Users"),r.Pb(),r.mc(6,ht,3,1,"ng-container",12),r.mc(7,ut,2,1,"ng-template",null,13,r.nc),r.Qb(9,"div",14),r.Qb(10,"table",15),r.Qb(11,"thead"),r.Qb(12,"tr"),r.Qb(13,"th",16),r.oc(14,"Avatar"),r.Pb(),r.Qb(15,"th"),r.oc(16,"Name"),r.Pb(),r.Qb(17,"th"),r.oc(18,"Email"),r.Pb(),r.Qb(19,"th",17),r.oc(20,"Role"),r.Pb(),r.Qb(21,"th",16),r.oc(22,"Auth"),r.Pb(),r.Qb(23,"th",18),r.oc(24,"Actions"),r.Pb(),r.Pb(),r.Pb(),r.Qb(25,"tbody"),r.mc(26,gt,19,6,"tr",19),r.Pb(),r.Pb(),r.Qb(27,"button",20),r.Xb("click",function(){r.ic(t);const e=r.Zb();return e.changePage(-e.pagination)}),r.oc(28," Previous "),r.Pb(),r.oc(29," \xa0 "),r.Qb(30,"button",20),r.Xb("click",function(){r.ic(t);const e=r.Zb();return e.changePage(e.pagination)}),r.oc(31," Next "),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb()}if(2&t){const t=r.hc(8),e=r.Zb();r.Ab(6),r.dc("ngIf",!e.searching)("ngIfElse",t),r.Ab(20),r.dc("ngForOf",e.users),r.Ab(1),r.dc("disabled",0===e.from||e.searching),r.Ab(3),r.dc("disabled",e.from===e.totalUsers-e.pagination||e.searching)}}let ft=(()=>{class t{constructor(t,e,s){this.modalImgSrv=t,this.usersSrv=e,this.search=s,this.totalUsers=0,this.users=[],this.from=0,this.loading=!0,this.searching=!1,this.searchingResults=0,this.destroy$=new rt.a}ngOnInit(){this.loadUsers(),this.modalImgSrv.showUploadedImage.pipe(K(500)).subscribe(t=>this.loadUsers())}loadUsers(){this.loading=!0,this.usersSrv.getAllUsers(this.from).pipe(Object(it.a)(()=>this.loading=!1)).subscribe(t=>{this.searchingResults=0,this.totalUsers=null==t?void 0:t.total,this.users=null==t?void 0:t.usuarios,this.pagination=this.users.length})}changePage(t){this.from+=t,this.from<0?this.from=0:this.from>this.totalUsers&&(this.from-=t),this.loadUsers()}searchUsers(t){if(this.searching=!0,!t)return this.loadUsers(),void(this.searching=!1);this.search.search("usuarios",t).subscribe(t=>{var e;this.users=null==t?void 0:t.resultados,this.searchingResults=null===(e=null==t?void 0:t.resultados)||void 0===e?void 0:e.length})}deleteUser(t){t.uid!==this.usersSrv.usuario.uid?Z.a.fire({title:"Are you sure?",text:`You are about to delete user: ${t.nombre}`,icon:"question",showCancelButton:!0,confirmButtonText:"Yes"}).then(e=>{e.isConfirmed&&this.usersSrv.deleteUser(t.uid).subscribe(()=>{this.showConfirmationOfDelete(t.nombre)})}):Z.a.fire("Error","You can t delete yourself","error")}showConfirmationOfDelete(t){Z.a.fire({title:"Deleted",text:`User ${t} has been succesfully deleted`,icon:"success",confirmButtonText:"OK"}).then(t=>{t.isConfirmed&&this.loadUsers()})}changeRole(t){this.usersSrv.updateUserFromAdminPanel(t).subscribe(t=>null,t=>Z.a.fire("Error","Could not update the user","error"))}openModal(t){this.modalImgSrv.showModal("usuarios",t.uid,t.img)}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(ot.a),r.Lb(q.a),r.Lb(lt))},t.\u0275cmp=r.Fb({type:t,selectors:[["app-users"]],decls:8,vars:2,consts:[[1,"row","animated","fadeIn"],[1,"col-12"],[1,"card"],[1,"card-body"],["type","text","placeholder","Search user",1,"form-control",3,"keyup"],["searchInput",""],["class","row animated fadeIn",4,"ngIf"],[1,"alert","alert-info","text-center"],[1,"alert-heading"],[1,"fa","fa-spin","fa-refresh","fa-2"],[1,"mb-0"],[1,"card-title"],[4,"ngIf","ngIfElse"],["searchingTemplate",""],[1,"table-responsive"],[1,"table","table-bordered"],[1,"w100"],[1,"w150"],[1,"text-nowrap","w100"],[4,"ngFor","ngForOf"],[1,"btn","btn-secondary",3,"disabled","click"],[1,"card-subtitle"],[1,"text-center"],["alt","Avatar",1,"avatar","pointer",3,"src","click"],[1,"form-control",3,"ngModel","change","ngModelChange"],["value","ADMIN_ROLE"],["value","USER_ROLE"],["class","label label-info",4,"ngIf"],["class","label label-danger",4,"ngIf"],[1,"text-nowrap","text-center"],["data-toggle","tooltip","data-original-title","Delete",1,"pointer",3,"click"],[1,"fa","fa-close","text-danger"],[1,"label","label-info"],[1,"label","label-danger"]],template:function(t,e){if(1&t){const t=r.Rb();r.Qb(0,"div",0),r.Qb(1,"div",1),r.Qb(2,"div",2),r.Qb(3,"div",3),r.Qb(4,"input",4,5),r.Xb("keyup",function(){r.ic(t);const s=r.hc(5);return e.searchUsers(s.value)}),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.mc(6,bt,10,0,"div",6),r.mc(7,mt,32,5,"div",6)}2&t&&(r.Ab(6),r.dc("ngIf",e.loading),r.Ab(1),r.dc("ngIf",!e.loading))},directives:[v.j,v.i,P.n,P.g,P.j,P.k,P.q],styles:[".avatar[_ngcontent-%COMP%]{width:50px}"]}),t})(),vt=(()=>{class t{constructor(t){this.http=t,this.baseUrl=nt.a.apiBaseUrl}get token(){return localStorage.getItem("token")}get headers(){return{headers:{"x-token":this.token||""}}}getAllHospitals(){return this.http.get(`${this.baseUrl}/hospitales`,this.headers).pipe(Object(H.a)(t=>t.hospitales))}createHospital(t){return this.http.post(`${this.baseUrl}/hospitales`,{nombre:t},this.headers)}editHospital(t,e){return this.http.put(`${this.baseUrl}/hospitales/${e}`,{nombre:t},this.headers)}deleteHospital(t){return this.http.delete(`${this.baseUrl}/hospitales/${t}`,this.headers)}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(ct.a))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Pt=(()=>{class t{constructor(){this.apiBaseUrl=nt.a.apiBaseUrl}transform(t,e){switch(t){case void 0:return`${this.apiBaseUrl}/upload/${e}/no-img`;default:return`${this.apiBaseUrl}/upload/${e}/${t}`}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r.Kb({name:"getImage",type:t,pure:!0}),t})();function Qt(t,e){1&t&&(r.Qb(0,"div",0),r.Qb(1,"div",1),r.Qb(2,"div",2),r.Qb(3,"div",3),r.Qb(4,"div",7),r.Qb(5,"h4",8),r.oc(6,"Loading"),r.Pb(),r.Mb(7,"i",9),r.Qb(8,"p",10),r.oc(9,"Please wait"),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb())}function wt(t,e){if(1&t&&(r.Ob(0),r.Qb(1,"h6",25),r.oc(2),r.Pb(),r.Nb()),2&t){const t=r.Zb(2);r.Ab(2),r.qc(" ",t.hospitals.length," registered hospital/s on my app. ")}}function yt(t,e){if(1&t&&(r.Qb(0,"h6",25),r.oc(1),r.Pb()),2&t){const t=r.Zb(2);r.Ab(1),r.qc(" ",t.searchingResults," hospital/s found. ")}}function It(t,e){if(1&t){const t=r.Rb();r.Qb(0,"tr"),r.Qb(1,"td",18),r.Qb(2,"img",26),r.Xb("click",function(){r.ic(t);const s=e.$implicit;return r.Zb(2).openModal(s)}),r.ac(3,"getImage"),r.Pb(),r.Pb(),r.Qb(4,"td"),r.Qb(5,"input",27,28),r.Xb("ngModelChange",function(t){return e.$implicit.nombre=t}),r.Pb(),r.Pb(),r.Qb(7,"td",22),r.Qb(8,"a",29),r.Qb(9,"i",30),r.Xb("click",function(){r.ic(t);const s=e.$implicit,i=r.hc(6);return r.Zb(2).editHospital(i.value,s._id)}),r.Pb(),r.Pb(),r.Qb(10,"a",31),r.Qb(11,"i",32),r.Xb("click",function(){r.ic(t);const s=e.$implicit;return r.Zb(2).deleteHospital(s._id)}),r.Pb(),r.Pb(),r.Pb(),r.Pb()}if(2&t){const t=e.$implicit;r.Ab(2),r.dc("src",r.bc(3,2,t.img,"hospitales"),r.jc),r.Ab(3),r.dc("ngModel",t.nombre)}}function kt(t,e){if(1&t){const t=r.Rb();r.Qb(0,"div",0),r.Qb(1,"div",1),r.Qb(2,"div",2),r.Qb(3,"div",3),r.Qb(4,"h4",11),r.oc(5,"Hospitals"),r.Pb(),r.mc(6,wt,3,1,"ng-container",12),r.mc(7,yt,2,1,"ng-template",null,13,r.nc),r.Qb(9,"div",14),r.Qb(10,"table",15),r.Qb(11,"thead"),r.Qb(12,"tr"),r.Qb(13,"th"),r.oc(14,"Avatar"),r.Pb(),r.Qb(15,"th"),r.oc(16,"Name"),r.Pb(),r.Qb(17,"th",16),r.oc(18,"Actions"),r.Pb(),r.Pb(),r.Pb(),r.Qb(19,"tbody"),r.mc(20,It,12,5,"tr",17),r.Qb(21,"tr"),r.Qb(22,"td",18),r.Mb(23,"img",19),r.ac(24,"getImage"),r.Pb(),r.Qb(25,"td"),r.Mb(26,"input",20,21),r.Pb(),r.Qb(28,"td",22),r.Qb(29,"a",23),r.Qb(30,"i",24),r.Xb("click",function(){r.ic(t);const e=r.hc(27);return r.Zb().createHospital(e.value)}),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb()}if(2&t){const t=r.hc(8),e=r.Zb();r.Ab(6),r.dc("ngIf",!e.searching)("ngIfElse",t),r.Ab(14),r.dc("ngForOf",e.hospitals),r.Ab(3),r.dc("src",r.bc(24,4,null,"hospitales"),r.jc)}}let xt=(()=>{class t{constructor(t,e,s){this.modalImgSrv=t,this.hospitalsSrv=e,this.search=s,this.hospitals=[],this.loading=!0,this.searching=!1}ngOnInit(){this.getHospitals(),this.imgSubscription=this.modalImgSrv.showUploadedImage.pipe(K(500)).subscribe(t=>this.getHospitals())}searchHospitals(t){if(this.searching=!0,!t)return this.getHospitals(),void(this.searching=!1);this.search.search("hospitales",t).subscribe(t=>{var e;this.hospitals=null==t?void 0:t.resultados,this.searchingResults=null===(e=null==t?void 0:t.resultados)||void 0===e?void 0:e.length})}getHospitals(){this.loading=!0,this.hospitalsSrv.getAllHospitals().subscribe(t=>{this.hospitals=t,this.loading=!1})}createHospital(t){this.hospitalsSrv.createHospital(t).subscribe(t=>{this.getHospitals()})}editHospital(t,e){Z.a.fire({title:"Save changes?",showDenyButton:!0,confirmButtonText:"Yes!",denyButtonText:"No"}).then(s=>{s.isConfirmed?this.saveEditedHospital(t,e):s.isDenied&&this.getHospitals()})}saveEditedHospital(t,e){this.hospitalsSrv.editHospital(t,e).subscribe(t=>{this.getHospitals()})}deleteHospital(t){Z.a.fire({title:"Are you sure you want to delete the hospital?",showDenyButton:!0,confirmButtonText:"Yes!",denyButtonText:"No"}).then(e=>{e.isConfirmed&&this.hospitalsSrv.deleteHospital(t).subscribe(()=>this.getHospitals())})}openModal(t){this.modalImgSrv.showModal("hospitales",t._id,t.img)}ngOnDestroy(){this.imgSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(ot.a),r.Lb(vt),r.Lb(lt))},t.\u0275cmp=r.Fb({type:t,selectors:[["app-hospitals"]],decls:8,vars:2,consts:[[1,"row","animated","fadeIn"],[1,"col-12"],[1,"card"],[1,"card-body"],["type","text","placeholder","Search hospital",1,"form-control",3,"keyup"],["searchInput",""],["class","row animated fadeIn",4,"ngIf"],[1,"alert","alert-info","text-center"],[1,"alert-heading"],[1,"fa","fa-spin","fa-refresh","fa-2"],[1,"mb-0"],[1,"card-title"],[4,"ngIf","ngIfElse"],["searchingTemplate",""],[1,"table-responsive"],[1,"table","table-bordered"],[1,"text-nowrap","w100"],[4,"ngFor","ngForOf"],[1,"text-center"],["alt","Hospital img",1,"avatar","pointer",3,"src"],["type","text","placeholder","New hospital",1,"form-control"],["createH",""],[1,"text-nowrap","text-center"],["data-toggle","tooltip","data-original-title","Create"],[1,"fa","fa-hospital-o","text-inverse","m-r-10","pointer",3,"click"],[1,"card-subtitle"],["alt","Hospital img",1,"avatar","pointer",3,"src","click"],["type","text",1,"form-control",3,"ngModel","ngModelChange"],["hospInput",""],["data-toggle","tooltip","data-original-title","Save"],[1,"fa","fa-save","text-inverse","m-r-10","pointer",3,"click"],["data-toggle","tooltip","data-original-title","Delete"],[1,"fa","fa-close","text-danger","pointer",3,"click"]],template:function(t,e){if(1&t){const t=r.Rb();r.Qb(0,"div",0),r.Qb(1,"div",1),r.Qb(2,"div",2),r.Qb(3,"div",3),r.Qb(4,"input",4,5),r.Xb("keyup",function(){r.ic(t);const s=r.hc(5);return e.searchHospitals(s.value)}),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.mc(6,Qt,10,0,"div",6),r.mc(7,kt,31,7,"div",6)}2&t&&(r.Ab(6),r.dc("ngIf",e.loading),r.Ab(1),r.dc("ngIf",!e.loading))},directives:[v.j,v.i,P.b,P.g,P.j],pipes:[Pt],styles:[".avatar[_ngcontent-%COMP%]{width:50px}"]}),t})();var At=s("mrSG");let Ct=(()=>{class t{constructor(t){this.http=t,this.baseUrl=nt.a.apiBaseUrl}get token(){return localStorage.getItem("token")}get headers(){return{headers:{"x-token":this.token||""}}}getDoctors(){return this.http.get(`${this.baseUrl}/medicos`).pipe(Object(H.a)(t=>t.medicos))}createDoctor(t,e){return this.http.post(`${this.baseUrl}/medicos`,{nombre:t,hospital:e},this.headers)}deleteDoctor(t){return this.http.delete(`${this.baseUrl}/medicos/${t}`,this.headers)}editDoctor(t,e,s){return this.http.put(`${this.baseUrl}/medicos/${s}`,{nombre:t,hospital:e},this.headers)}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(ct.a))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function St(t,e){1&t&&(r.Qb(0,"div",0),r.Qb(1,"div",1),r.Qb(2,"div",2),r.Qb(3,"div",3),r.Qb(4,"div",7),r.Qb(5,"h4",8),r.oc(6,"Loanding"),r.Pb(),r.Mb(7,"i",9),r.Qb(8,"p",10),r.oc(9,"Please wait"),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb())}function Ot(t,e){if(1&t&&(r.Ob(0),r.Qb(1,"h6",22),r.oc(2),r.Pb(),r.Nb()),2&t){const t=r.Zb(2);r.Ab(2),r.qc(" ",t.doctors.length," registered doctor/s on my app. ")}}function jt(t,e){if(1&t&&(r.Qb(0,"h6",22),r.oc(1),r.Pb()),2&t){const t=r.Zb(2);r.Ab(1),r.qc(" ",t.searchingResults," doctor/s found. ")}}function Mt(t,e){if(1&t){const t=r.Rb();r.Qb(0,"tr"),r.Qb(1,"td",23),r.Qb(2,"img",24),r.Xb("click",function(){r.ic(t);const s=e.$implicit;return r.Zb(2).openModal(s)}),r.ac(3,"getImage"),r.Pb(),r.Pb(),r.Qb(4,"td"),r.oc(5),r.Pb(),r.Qb(6,"td",25),r.Qb(7,"a",26),r.Qb(8,"i",27),r.Xb("click",function(){r.ic(t);const s=e.$implicit;return r.Zb(2).createOrEditDoctor("edit",s._id,s.nombre)}),r.Pb(),r.Pb(),r.Qb(9,"a",28),r.Qb(10,"i",29),r.Xb("click",function(){r.ic(t);const s=e.$implicit;return r.Zb(2).deleteDoctor(s._id)}),r.Pb(),r.Pb(),r.Pb(),r.Pb()}if(2&t){const t=e.$implicit;r.Ab(2),r.dc("src",r.bc(3,2,t.img,"medicos"),r.jc),r.Ab(3),r.pc(t.nombre)}}function Ut(t,e){if(1&t){const t=r.Rb();r.Qb(0,"div",0),r.Qb(1,"div",1),r.Qb(2,"div",2),r.Qb(3,"div",3),r.Qb(4,"div",11),r.Qb(5,"div",12),r.Qb(6,"h4",13),r.oc(7,"Doctors"),r.Pb(),r.mc(8,Ot,3,1,"ng-container",14),r.mc(9,jt,2,1,"ng-template",null,15,r.nc),r.Pb(),r.Qb(11,"div",16),r.Qb(12,"button",17),r.Xb("click",function(){return r.ic(t),r.Zb().createOrEditDoctor("create")}),r.oc(13,"Create doctor"),r.Pb(),r.Pb(),r.Pb(),r.Qb(14,"div",18),r.Qb(15,"table",19),r.Qb(16,"thead"),r.Qb(17,"tr"),r.Qb(18,"th"),r.oc(19,"Avatar"),r.Pb(),r.Qb(20,"th"),r.oc(21,"Name"),r.Pb(),r.Qb(22,"th",20),r.oc(23,"Actions"),r.Pb(),r.Pb(),r.Pb(),r.Qb(24,"tbody"),r.mc(25,Mt,11,5,"tr",21),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb()}if(2&t){const t=r.hc(10),e=r.Zb();r.Ab(8),r.dc("ngIf",!e.searching)("ngIfElse",t),r.Ab(17),r.dc("ngForOf",e.doctors)}}let Dt=(()=>{class t{constructor(t,e,s,i){this.search=t,this.doctorsSrv=e,this.modalImgSrv=s,this.hospitalSrv=i,this.doctors=[],this.loading=!1}ngOnInit(){this.getDoctors(),this.imgSubscription=this.modalImgSrv.showUploadedImage.pipe(K(500)).subscribe(t=>this.getDoctors())}searchDoctors(t){if(this.searching=!0,!t)return this.getDoctors(),void(this.searching=!1);this.search.search("medicos",t).subscribe(t=>{var e;this.doctors=null==t?void 0:t.resultados,this.searchingResults=null===(e=null==t?void 0:t.resultados)||void 0===e?void 0:e.length})}getDoctors(){this.loading=!0,this.doctorsSrv.getDoctors().subscribe(t=>{this.doctors=t,this.loading=!1})}createOrEditDoctor(t,e,s){return Object(At.a)(this,void 0,void 0,function*(){const{value:i}=yield Z.a.fire({title:this.setAlertTitle(t),text:"Write down the doctors name",input:"text",inputValue:s||"",showCancelButton:!0,inputValidator:t=>{if(!t)return"You need to write something!"}});i&&this.selectHospital(i,t,e)})}setAlertTitle(t){let e;switch(t){case"create":e="Create a doctor";break;case"edit":e="Edit a doctor"}return e}selectHospital(t,e,s){return Object(At.a)(this,void 0,void 0,function*(){const i=yield this.getSelectProperties(),{value:r}=yield Z.a.fire({title:this.setAlertTitle(e),input:"select",inputOptions:i,inputPlaceholder:"Select Hospital",showCancelButton:!0,inputValidator:t=>!t&&"You need to select something!"});if(r)switch(e){case"create":this.createDoctor(t,r);break;case"edit":this.editDoctor(t,r,s)}})}createDoctor(t,e){this.doctorsSrv.createDoctor(t,e).subscribe(t=>{this.getDoctors()})}editDoctor(t,e,s){this.doctorsSrv.editDoctor(t,e,s).subscribe(t=>{this.getDoctors()})}getSelectProperties(){return new Promise((t,e)=>{this.hospitalSrv.getAllHospitals().subscribe(s=>{let i={};for(let t=0;t<s.length;t++)i[s[t]._id]=s[t].nombre;i?t(i):e()})})}deleteDoctor(t){Z.a.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(e=>{e.isConfirmed&&this.doctorsSrv.deleteDoctor(t).subscribe(t=>{Z.a.fire("Deleted!","Doctor has been deleted","success"),this.getDoctors()})})}openModal(t){this.modalImgSrv.showModal("medicos",t._id,t.img)}ngOnDestroy(){this.imgSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(lt),r.Lb(Ct),r.Lb(ot.a),r.Lb(vt))},t.\u0275cmp=r.Fb({type:t,selectors:[["app-doctors"]],decls:8,vars:2,consts:[[1,"row","animated","fadeIn"],[1,"col-12"],[1,"card"],[1,"card-body"],["type","text","placeholder","Search doctor",1,"form-control",3,"keyup"],["searchInput",""],["class","row animated fadeIn",4,"ngIf"],[1,"alert","alert-info","text-center"],[1,"alert-heading"],[1,"fa","fa-spin","fa-refresh","fa-2"],[1,"mb-0"],[1,"row"],[1,"col-8"],[1,"card-title"],[4,"ngIf","ngIfElse"],["searchingTemplate",""],[1,"col","text-right"],[1,"btn","btn-primary",3,"click"],[1,"table-responsive"],[1,"table","table-bordered"],[1,"text-nowrap","w100"],[4,"ngFor","ngForOf"],[1,"card-subtitle"],[1,"text-center"],["alt","Doctor avatar",1,"avatar","pointer",3,"src","click"],[1,"text-nowrap","text-center"],["data-toggle","tooltip","data-original-title","Edit",1,"pointer"],[1,"fa","fa-save","text-inverse","m-r-10",3,"click"],["data-toggle","tooltip","data-original-title","Delete",1,"pointer"],[1,"fa","fa-close","text-danger",3,"click"]],template:function(t,e){if(1&t){const t=r.Rb();r.Qb(0,"div",0),r.Qb(1,"div",1),r.Qb(2,"div",2),r.Qb(3,"div",3),r.Qb(4,"input",4,5),r.Xb("keyup",function(){r.ic(t);const s=r.hc(5);return e.searchDoctors(s.value)}),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.mc(6,St,10,0,"div",6),r.mc(7,Ut,26,3,"div",6)}2&t&&(r.Ab(6),r.dc("ngIf",e.loading),r.Ab(1),r.dc("ngIf",!e.loading))},directives:[v.j,v.i],pipes:[Pt],styles:[".avatar[_ngcontent-%COMP%]{width:50px}"]}),t})();var Rt=s("zx2A");function Tt(t){return e=>e.lift(new $t(t))}class $t{constructor(t){this.notifier=t}call(t,e){const s=new Xt(t),i=Object(Rt.c)(this.notifier,new Rt.a(s));return i&&!s.seenValue?(s.add(i),e.subscribe(s)):s}}class Xt extends Rt.b{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}function Et(t,e){if(1&t&&(r.Qb(0,"div",3),r.Qb(1,"h3"),r.oc(2),r.Pb(),r.Pb()),2&t){const t=r.Zb();r.Ab(2),r.pc(t.title)}}function Ft(t,e){if(1&t&&(r.Qb(0,"tr",4),r.Qb(1,"td"),r.oc(2),r.Pb(),r.Qb(3,"td"),r.Mb(4,"img",5),r.ac(5,"getImage"),r.Pb(),r.Qb(6,"td"),r.oc(7),r.Pb(),r.Pb()),2&t){const t=e.$implicit;r.dc("routerLink",t.redirect),r.Ab(2),r.pc(t.numberId),r.Ab(2),r.dc("src",r.bc(5,4,t.img,t.type),r.jc),r.Ab(3),r.pc(t.nombre)}}let Ht=(()=>{class t{constructor(){this.users=[],this.doctors=[],this.hospitals=[],this.results=[],this.destroy$=new rt.a}ngOnInit(){new A.a(t=>{this.mapResults(),this.createArrayForHtml(),t.next(this.results)}).pipe(Tt(this.destroy$)).subscribe()}mapResults(){var t,e,s;null===(t=this.users)||void 0===t||t.forEach((t,e)=>{t.numberId=e+1,t.type="usuarios",t.redirect="/dashboard/users"}),null===(e=this.doctors)||void 0===e||e.forEach((t,e)=>{t.numberId=e+1,t.type="medicos",t.redirect="/dashboard/doctors"}),null===(s=this.hospitals)||void 0===s||s.forEach((t,e)=>{t.numberId=e+1,t.type="hospitales",t.redirect="/dashboard/hospitals"})}createArrayForHtml(){var t,e,s;(null===(t=this.users)||void 0===t?void 0:t.length)?(this.title="Users",this.results=this.users):(null===(e=this.doctors)||void 0===e?void 0:e.length)?(this.title="Doctors",this.results=this.doctors):(null===(s=this.hospitals)||void 0===s?void 0:s.length)&&(this.title="Hospitals",this.results=this.hospitals)}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Fb({type:t,selectors:[["app-search-table"]],inputs:{users:"users",doctors:"doctors",hospitals:"hospitals"},decls:13,vars:2,consts:[["class","text-center",4,"ngIf"],[1,"table"],[3,"routerLink",4,"ngFor","ngForOf"],[1,"text-center"],[3,"routerLink"],["alt","Avatar",1,"w100",3,"src"]],template:function(t,e){1&t&&(r.mc(0,Et,3,1,"div",0),r.Mb(1,"hr"),r.Qb(2,"table",1),r.Qb(3,"thead"),r.Qb(4,"tr"),r.Qb(5,"th"),r.oc(6,"#"),r.Pb(),r.Qb(7,"th"),r.oc(8,"Avatar"),r.Pb(),r.Qb(9,"th"),r.oc(10,"Full Name"),r.Pb(),r.Pb(),r.Pb(),r.Qb(11,"tbody"),r.mc(12,Ft,8,7,"tr",2),r.Pb(),r.Pb()),2&t&&(r.dc("ngIf",e.results.length),r.Ab(12),r.dc("ngForOf",e.results))},directives:[v.j,v.i,i.d],pipes:[Pt],styles:[""]}),t})();function Lt(t,e){1&t&&(r.Qb(0,"div",2),r.Qb(1,"p",3),r.oc(2," We couldn't find anything with the info you provided. "),r.Mb(3,"br"),r.oc(4,"Please try again "),r.Pb(),r.Pb())}function Nt(t,e){if(1&t&&(r.Qb(0,"div",6),r.Qb(1,"div",7),r.Qb(2,"div",8),r.Mb(3,"app-search-table",9),r.Pb(),r.Pb(),r.Pb()),2&t){const t=r.Zb(2);r.Ab(3),r.dc("users",t.usersResults)}}function _t(t,e){if(1&t&&(r.Qb(0,"div",6),r.Qb(1,"div",7),r.Qb(2,"div",8),r.Mb(3,"app-search-table",10),r.Pb(),r.Pb(),r.Pb()),2&t){const t=r.Zb(2);r.Ab(3),r.dc("doctors",t.doctorsResults)}}function Zt(t,e){if(1&t&&(r.Qb(0,"div",6),r.Qb(1,"div",7),r.Qb(2,"div",8),r.Mb(3,"app-search-table",11),r.Pb(),r.Pb(),r.Pb()),2&t){const t=r.Zb(2);r.Ab(3),r.dc("hospitals",t.hospitalsResults)}}function qt(t,e){if(1&t&&(r.Ob(0),r.Qb(1,"div",4),r.mc(2,Nt,4,1,"div",5),r.mc(3,_t,4,1,"div",5),r.mc(4,Zt,4,1,"div",5),r.Pb(),r.Nb()),2&t){const t=r.Zb();r.Ab(2),r.dc("ngIf",t.usersResults.length),r.Ab(1),r.dc("ngIf",t.doctorsResults.length),r.Ab(1),r.dc("ngIf",t.hospitalsResults.length)}}const Bt=[{path:"",component:o,data:{title:"Dashboard"}},{path:"graphic1",component:f,data:{title:"Graphic # 1"}},{path:"progress",component:y,data:{title:"Progress bar"}},{path:"account-settings",component:k,data:{title:"Account settings"}},{path:"promises",component:x,data:{title:"Promises"}},{path:"observables",component:N,data:{title:"Observables"}},{path:"profile",component:J,data:{title:"My profile"}},{path:"search/:term",component:(()=>{class t{constructor(t,e,s){this.activatedRoute=t,this.router=e,this.searchSrv=s,this.usersResults=[],this.hospitalsResults=[],this.doctorsResults=[],this.destroy$=new rt.a,this.getSearchTerm()}ngOnInit(){}getSearchTerm(){this.activatedRoute.paramMap.pipe(Tt(this.destroy$)).subscribe(t=>{this.searchTerm=t.get("term"),""===this.searchTerm?this.router.navigateByUrl("/"):this.setSearchResults()})}setSearchResults(){this.searchSrv.searchAll(this.searchTerm).pipe(Tt(this.destroy$)).subscribe(t=>{this.usersResults=t.usuarios,this.doctorsResults=t.medicos,this.hospitalsResults=t.hospitales})}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(i.a),r.Lb(i.c),r.Lb(lt))},t.\u0275cmp=r.Fb({type:t,selectors:[["app-search"]],decls:2,vars:2,consts:[["class","alert alert-info text-center",4,"ngIf"],[4,"ngIf"],[1,"alert","alert-info","text-center"],[1,"mb-0"],[1,"row","animated","fadeIn"],["class","col-lg-4 col-md-6 col-sm-12",4,"ngIf"],[1,"col-lg-4","col-md-6","col-sm-12"],[1,"card"],[1,"card-body"],[3,"users"],[3,"doctors"],[3,"hospitals"]],template:function(t,e){1&t&&(r.mc(0,Lt,5,0,"div",0),r.mc(1,qt,5,3,"ng-container",1)),2&t&&(r.dc("ngIf",!e.usersResults.length&&!e.doctorsResults.length&&!e.hospitalsResults.length),r.Ab(1),r.dc("ngIf",e.usersResults||e.hospitalsResults||e.doctorsResults))},directives:[v.j,Ht],styles:[""]}),t})(),data:{title:"Search"}},{path:"search",redirectTo:"/dashboard",pathMatch:"full"},{path:"users",canActivate:[(()=>{class t{constructor(t,e){this.userSrv=t,this.router=e}canActivate(t,e){return"ADMIN_ROLE"===this.userSrv.role||(this.userSrv.logout(),!1)}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(q.a),r.Ub(i.c))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()],component:ft,data:{title:"Users admin panel"}},{path:"hospitals",component:xt,data:{title:"Hospitals admin panel"}},{path:"doctors",component:Dt,data:{title:"Doctors admin panel"}}];let Vt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({imports:[[i.g.forChild(Bt)],i.g]}),t})()}}]);